{"version":3,"sources":["redux/actions.js","redux/reducers/rootReducer.js","redux/reducers/productsReducer.js","redux/reducers/searchQueryReducer.js","redux/reducers/pinCardReducer.js","redux/reducers/LoaderReducer.js","redux/store.js","components/Item/Item.jsx","components/Loader/Loader.jsx","components/ItemsList/ItemsList.jsx","api/api.js","components/Header/Header.jsx","components/NewItemForm/NewItemForm.jsx","App.js","index.js"],"names":["DELETE_PRODUCT","SET_PRODUCTS","PIN_PRODUCT","UNPIN_PRODUCT","SEARCH_QUERY","ADD_NEW_CARD","TURN_ON_LOADER","TURN_OFF_LOADER","setProducts","products","type","payload","rootReducer","combineReducers","state","action","filter","item","id","title","description","price","image","length","searchQuery","pinedCard","isLoading","store","createStore","applyMiddleware","thunk","getProducts","getState","getPinnedCard","getQuery","getLoader","Item","product","pinHandler","pinnedCard","useSelector","dispatch","useDispatch","className","data-qa","src","fallbackImage","alt","data-tip","place","effect","multiline","onClick","Loader","ItemsList","query","useEffect","a","fetch","then","response","json","filteredProducts","toLowerCase","includes","cardToPinId","indexOf","splicedCard","splice","unshift","push","sort","b","map","Header","placeholder","aria-label","onChange","e","letter","target","value","NewItemForm","useState","setPrice","method","onSubmit","event","preventDefault","elements","addNewCardAction","reset","htmlFor","maxLength","autoComplete","name","required","split","rows","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e7a9fea2.chunk.js","sourcesContent":["export const DELETE_PRODUCT = 'DELETE_PRODUCT';\nexport const SET_PRODUCTS = 'SET_PRODUCTS';\nexport const PIN_PRODUCT = 'PIN_PRODUCT';\nexport const UNPIN_PRODUCT = 'UNPIN_PRODUCT';\nexport const SEARCH_QUERY = 'SEARCH_QUERY';\nexport const ADD_NEW_CARD = 'ADD_NEW_CARD';\nexport const TURN_ON_LOADER = 'TURN_ON_LOADER';\nexport const TURN_OFF_LOADER = 'TURN_OFF_LOADER';\n\n\nexport const turnOnLoader = () => ({\n  type: TURN_ON_LOADER\n});\n\nexport const turnOffLoader = () => ({\n  type: TURN_OFF_LOADER\n});\n\nexport const setProducts = (products) => ({\n  type: SET_PRODUCTS,\n  payload: products,\n});\n\nexport const pinProduct = (id) => ({\n  type: PIN_PRODUCT,\n  payload: id,\n});\n\nexport const unpinProduct = () => ({\n  type: UNPIN_PRODUCT,\n})\n\nexport const deleteProduct = (id) => ({\n  type: DELETE_PRODUCT,\n  payload: id,\n});\n\nexport const searchByQuery = (letter) => ({\n  type: SEARCH_QUERY,\n  payload: letter,\n});\n\nexport const addNewCardAction = (title, description, price, image) => ({\n  type: ADD_NEW_CARD,\n  payload: {\n    title,\n    description,\n    price,\n    image\n  }\n});\n\nexport const pinCardAction = (id) => ({\n  type: PIN_PRODUCT,\n  payload: id,\n});\n\nexport const unpinCardAction = () => ({\n  type: UNPIN_PRODUCT,\n})\n","import { combineReducers } from 'redux';\n\nimport { productsReducer } from '../reducers/productsReducer';\nimport { searchQueryReducer } from '../reducers/searchQueryReducer';\nimport { pinCardReducer } from '../reducers/pinCardReducer';\nimport { loaderReducer } from './LoaderReducer';\n\nexport const rootReducer = combineReducers({\n  products: productsReducer,\n  searchQuery: searchQueryReducer,\n  pinedCard: pinCardReducer,\n  isLoading: loaderReducer,\n});\n","import { SET_PRODUCTS, DELETE_PRODUCT, ADD_NEW_CARD } from '../actions';\n\nexport const productsReducer = (state = [], action) => {\n  switch (action.type) {\n\n    case SET_PRODUCTS:\n      return [...action.payload];\n\n    case DELETE_PRODUCT:\n      return state.filter(item => item.id !== action.payload);\n\n    case ADD_NEW_CARD:\n      return [...state, {\n          title: action.payload.title,\n          description: action.payload.description,\n          price: action.payload.price,\n          image: action.payload.image,\n          id: state.length + 1,\n        }]\n\n    default:\n      return state;\n  }\n}\n","import { SEARCH_QUERY } from '../actions';\n\nexport const searchQueryReducer = (state = '', action) => {\n  switch (action.type) {\n    case SEARCH_QUERY:\n      return action.payload;\n  \n    default:\n      return state;\n  }\n}","import { PIN_PRODUCT, UNPIN_PRODUCT } from '../actions'\n\nexport const pinCardReducer = (state = null, action) => {\n  switch (action.type) {\n    case PIN_PRODUCT:\n      return action.payload;\n    \n    case UNPIN_PRODUCT:\n      return null;\n  \n    default:\n      return state;\n  }\n}\n","import { TURN_ON_LOADER, TURN_OFF_LOADER } from '../actions';\n\nexport const loaderReducer = (state = false, action) => {\n  switch (action.type) {\n    case TURN_ON_LOADER:\n      return true;\n    \n    case TURN_OFF_LOADER:\n      return false;\n  \n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from './reducers/rootReducer';\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport const getProducts = () => store.getState().products;\nexport const getPinnedCard = () => store.getState().pinedCard;\nexport const getQuery = () => store.getState().searchQuery;\nexport const getLoader = () => store.getState().isLoading;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ReactTooltip from 'react-tooltip';\nimport ReactImageFallback from \"react-image-fallback\";\n\nimport './Item.scss';\nimport * as action from '../../redux/actions';\nimport { getPinnedCard } from '../../redux/store';\n\nexport const Item = ({ product, pinHandler }) => {\n  const pinnedCard = useSelector(getPinnedCard)\n  const dispatch = useDispatch();\n\n  return (\n    <li className=\"card\" data-qa=\"card\">\n      <ReactImageFallback\n        src={product.image}\n        fallbackImage=\"data:image/png;base64,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\"\n        alt=\"title\"\n        className=\"card__image\"\n        />\n      <h3 className=\"card__name\">{product.title}</h3>\n      <div className=\"card__cost\">\n        <span className=\"card__value\">Price:</span>\n        <span className=\"card__price\">${product.price}</span>\n      </div>\n      <div className=\"card__description\" data-tip={product.description}>\n        {product.description}\n        <ReactTooltip\n          place=\"top\"\n          effect=\"solid\"\n          multiline={true}\n        />\n        <span className=\"card__description_fade-out\"></span>\n      </div>\n      <div className=\"card__buttons\">\n        <button\n          className=\"card__pin card__button\"\n          onClick={() => pinHandler(product)}\n        >\n          {pinnedCard === product.id ? 'Unpin' : 'Pin'}\n        </button>\n        <button\n          className=\"card__delete card__button\"\n          onClick={() => dispatch(action.deleteProduct(product.id))}\n        >\n          Delete\n        </button>\n      </div>\n    </li>\n  )\n}","import React from 'react';\nimport './Loader.scss'\n\nexport const Loader = () => (\n  <span className=\"loader\"></span>\n)\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './ItemsList.scss';\nimport { BASE_URL } from '../../api/api';\nimport { Item } from '../Item/Item';\nimport * as action from '../../redux/actions';\nimport { getProducts, getPinnedCard, getQuery, getLoader } from '../../redux/store';\nimport { Loader } from '../Loader/Loader';\n\nexport const ItemsList = () => {\n  const products = useSelector(getProducts);\n  const query = useSelector(getQuery);\n  const pinnedCard = useSelector(getPinnedCard);\n  const isLoading = useSelector(getLoader);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(action.turnOnLoader());\n    const fetchProducts = () => async(dispatch) => {\n      const products = await fetch(BASE_URL)\n        .then(response => response.json());\n\n      dispatch(action.setProducts(products));\n      dispatch(action.turnOffLoader());\n    }\n    \n    dispatch(fetchProducts());\n  }, [dispatch]);\n\n  const filteredProducts = products\n    .filter(\n      item => item.title.toLowerCase().includes(query.toLowerCase()) ||\n      item.description.toLowerCase().includes(query.toLowerCase())\n  );\n\n  const pinHandler = (product) => {\n    const cardToPinId = filteredProducts.indexOf(product);\n    const splicedCard = filteredProducts.splice(cardToPinId, 1);\n\n    if (product.id !== pinnedCard) {\n      filteredProducts.unshift(...splicedCard);\n      dispatch(action.setProducts(filteredProducts))\n      dispatch(action.pinProduct(product.id));\n      return;\n    }\n    filteredProducts.push(...splicedCard);\n    filteredProducts.sort((a, b) => a.id - b.id);\n    dispatch(action.setProducts(filteredProducts));\n    dispatch(action.unpinProduct());\n  }\n\n  return (isLoading) ? (\n    <Loader />\n  ) : (\n    <div className=\"products\">\n      <ul className=\"products-list\">\n        {filteredProducts.map(product => (\n          <Item key={product.id} product={product} pinHandler={pinHandler} />\n        ))}\n      </ul>\n    </div>\n  )\n}","export const BASE_URL = 'https://fakestoreapi.com/products';\n","import React from 'react';\n\nimport './Header.scss'\nimport { useDispatch } from 'react-redux';\nimport { searchByQuery } from '../../redux/actions';\n\nexport const Header = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"navbar navbar-light bg-light\">\n      <div className=\"form-inline\">\n        <input\n          className=\"form-control mr-sm-2\"\n          type=\"search\"\n          placeholder=\"Search\"\n          aria-label=\"Search\"\n          onChange={e => dispatch(searchByQuery(e.target.value))}\n        />\n      </div>\n    </div>\n  )\n}","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport './NewItemForm.scss';\nimport { addNewCardAction } from '../../redux/actions';\n\nexport const NewItemForm = () => {\n  const [price, setPrice] = useState('');\n  const dispatch = useDispatch();\n\n  const priceHandler = (event) => {\n    const value = event.target.value;\n    const requredSymb = '1234567890,. ';\n\n    if (!requredSymb.split('').includes(value[value.length - 1])) {\n      return;\n    }\n    setPrice(value);\n  }\n\n  const addNewCard = (event) => {\n    event.preventDefault();\n    const { title, description, price, image } = { ...event.target.elements };\n    dispatch(addNewCardAction(title.value, description.value, price.value, image.value));\n\n    setPrice('');\n    event.target.reset();\n  }\n\n  return (\n    <form\n      method=\"post\"\n      className=\"item-form form\"\n      onSubmit={addNewCard}\n    >\n      <div className=\"mb-3\">\n        <label htmlFor=\"title\" className=\"form-label\">Title</label>\n        <input\n          maxLength=\"50\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"form-control\"\n          id=\"title\"\n          name=\"title\"\n          placeholder=\"Product title\"\n          required\n        />\n        <label htmlFor=\"price\" className=\"form-label\">Price</label>\n        <input\n          autoComplete=\"off\"\n          placeholder=\"e.g 150.90\"\n          type=\"text\"\n          name=\"price\"\n          id=\"price\"\n          className=\"form-control\"\n          maxLength=\"7\"\n          required\n          onChange={priceHandler}\n          value={price}\n        />\n        <label htmlFor=\"image\" className=\"form-label\">Image</label>\n        <input\n          autoComplete=\"off\"\n          placeholder=\"Put link to image\"\n          type=\"text\"\n          name=\"image\"\n          id=\"image\"\n          className=\"form-control\"\n        />\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"description\" className=\"form-label\">Description</label>\n        <textarea\n          className=\"form-control form__description\"\n          id=\"description\"\n          name=\"description\"\n          rows=\"3\"\n          placeholder=\"Product description\"\n          maxLength=\"150\"\n          required\n        />\n      </div>\n      \n      <button\n        type=\"submit\"\n        className=\"form-btn btn btn-outline-success\"\n      >\n        Add new product\n      </button>\n    </form>\n  )\n}\n","import { ItemsList } from './components/ItemsList/ItemsList';\nimport { Header } from './components/Header/Header';\nimport { NewItemForm } from './components/NewItemForm/NewItemForm';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <main className=\"main\">\n        <NewItemForm />\n        <ItemsList />\n      </main>\n    </>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}